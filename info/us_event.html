<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¯¸êµ­ ì£¼ìš” ê²½ì œì§€í‘œ ë°œí‘œ ìº˜ë¦°ë” (13F ë³´ê³ ì„œ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .event {
            font-size: 0.7rem;
            padding: 2px 4px;
            border-radius: 4px;
            margin-top: 2px;
            cursor: pointer;
            transition: background-color 0.2s;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: flex;
            align-items: center;
        }
        .event-cpi { background-color: #fee2e2; color: #991b1b; }
        .event-cpi:hover { background-color: #fecaca; }
        .event-gdp { background-color: #dbeafe; color: #1e40af; }
        .event-gdp:hover { background-color: #bfdbfe; }
        .event-emp { background-color: #d1fae5; color: #065f46; }
        .event-emp:hover { background-color: #a7f3d0; }
        .event-fomc { background-color: #fef9c3; color: #854d0e; }
        .event-fomc:hover { background-color: #fef08a; }
        .event-retail { background-color: #e0e7ff; color: #3730a3; }
        .event-retail:hover { background-color: #c7d2fe; }
        .event-ism { background-color: #f3e8ff; color: #581c87; }
        .event-ism:hover { background-color: #e9d5ff; }
        .event-jobless { background-color: #e5e7eb; color: #374151; }
        .event-jobless:hover { background-color: #d1d5db; }
        .event-investor { background-color: #e2e8f0; color: #475569; }
        .event-investor:hover { background-color: #cbd5e1; }

        .memo-indicator {
            width: 6px;
            height: 6px;
            background-color: #f59e0b;
            border-radius: 50%;
            margin-right: 4px;
            flex-shrink: 0;
        }

        .modal-body::-webkit-scrollbar { width: 8px; }
        .modal-body::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        .modal-body::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
        .modal-body::-webkit-scrollbar-thumb:hover { background: #555; }
        
        .loader {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3498db;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
            display: inline-block;
            margin-right: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        <div class="bg-white rounded-2xl shadow-lg p-6">
            <!-- í—¤ë” -->
            <div class="flex items-center justify-between mb-6">
                <h1 class="text-2xl sm:text-3xl font-bold text-gray-900" id="calendar-title"></h1>
                <div class="flex items-center space-x-2">
                    <button id="prev-month" class="p-2 rounded-full text-gray-500 hover:bg-gray-200 hover:text-gray-700 transition">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                    </button>
                    <button id="today" class="px-4 py-2 text-sm font-semibold text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition">ì˜¤ëŠ˜</button>
                    <button id="next-month" class="p-2 rounded-full text-gray-500 hover:bg-gray-200 hover:text-gray-700 transition">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                    </button>
                </div>
            </div>

            <!-- ìš”ì¼ í—¤ë” -->
            <div class="grid grid-cols-7 gap-2 text-center font-semibold text-sm text-gray-500 mb-2">
                <div>ì¼</div><div>ì›”</div><div>í™”</div><div>ìˆ˜</div><div>ëª©</div><div>ê¸ˆ</div><div>í† </div>
            </div>

            <!-- ë‚ ì§œ ê·¸ë¦¬ë“œ -->
            <div id="calendar-grid" class="grid grid-cols-7 gap-1 sm:gap-2"></div>
        </div>

        <!-- ë°ì´í„° ê´€ë¦¬ ì„¹ì…˜ -->
        <div class="bg-white rounded-2xl shadow-lg p-6 mt-6">
            <h2 class="text-lg font-bold text-gray-800 mb-4">ë©”ëª¨ ë°ì´í„° ê´€ë¦¬</h2>
            <div class="flex flex-col sm:flex-row gap-4">
                <button id="export-json" class="flex-1 px-4 py-2 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition">ë©”ëª¨ ì „ì²´ ë‚´ë³´ë‚´ê¸° (JSON)</button>
                <button id="import-json" class="flex-1 px-4 py-2 bg-gray-600 text-white font-semibold rounded-lg hover:bg-gray-700 transition">ë©”ëª¨ ë¶ˆëŸ¬ì˜¤ê¸° (JSON)</button>
                <input type="file" id="import-file" class="hidden" accept=".json">
            </div>
            <p id="import-status" class="text-sm text-gray-500 mt-3 text-center"></p>
        </div>
    </div>

    <!-- ì´ë²¤íŠ¸ ìƒì„¸ ì •ë³´ ë° ë©”ëª¨ ëª¨ë‹¬ -->
    <div id="event-modal" class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-2xl shadow-xl w-full max-w-md transform transition-all" data-event-key="" data-event-date="" data-event-name="">
            <div class="p-6">
                <div class="flex items-start justify-between">
                    <h2 id="modal-title" class="text-xl font-bold text-gray-900"></h2>
                    <button id="modal-close" class="p-1 rounded-full text-gray-400 hover:bg-gray-200 hover:text-gray-600">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                <div class="mt-4 pr-2 max-h-[400px] overflow-y-auto modal-body">
                    <p id="modal-description" class="text-gray-600 mb-4"></p>
                    <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="block w-full text-center px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition mb-4">
                        ê³µì‹ ë°œí‘œ í™•ì¸í•˜ê¸°
                    </a>
                    <hr class="my-4">
                    <div>
                        <div class="flex justify-between items-center mb-2">
                           <label for="memo-input" class="block text-sm font-medium text-gray-700">íˆ¬ì ë©”ëª¨</label>
                           <button id="fetch-assessment" class="px-3 py-1 text-xs font-semibold text-purple-700 bg-purple-100 hover:bg-purple-200 rounded-full transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center">
                                <span id="assessment-loader" class="loader hidden"></span>
                                <span id="assessment-text">ì‹œì¥ í‰ê°€ ìš”ì•½</span>
                           </button>
                        </div>
                        <textarea id="memo-input" rows="4" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="ì´ ì§€í‘œì— ëŒ€í•œ ìƒê°ì´ë‚˜ íˆ¬ì ì „ëµì„ ê¸°ë¡í•˜ì„¸ìš”..."></textarea>
                        <button id="save-memo" class="mt-3 w-full px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition">ë©”ëª¨ ì €ì¥</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- ë°ì´í„° ì˜ì—­ ---
        const events = [
            // (ì´ì „ê³¼ ë™ì¼í•œ ì´ë²¤íŠ¸ ë°ì´í„°)
            { date: '2025-08-01', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2025-08-01', name: 'ISM ì œì¡°ì—… PMI', type: 'ism', desc: 'ì œì¡°ì—… ë¶„ì•¼ì˜ ê²½ê¸° ë™í–¥ì„ ë³´ì—¬ì£¼ëŠ” ì§€í‘œë¡œ, 50 ì´ìƒì´ë©´ ê²½ê¸° í™•ì¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.', link: 'https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/' },
            { date: '2025-08-05', name: 'ISM ë¹„ì œì¡°ì—… PMI', type: 'ism', desc: 'ì„œë¹„ìŠ¤ì—… ë¶„ì•¼ì˜ ê²½ê¸° ë™í–¥ì„ ë³´ì—¬ì£¼ëŠ” ì§€í‘œë¡œ, ë¯¸êµ­ ê²½ì œì˜ í° ë¶€ë¶„ì„ ì°¨ì§€í•©ë‹ˆë‹¤.', link: 'https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/' },
            { date: '2025-08-13', name: 'ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜ (CPI)', type: 'cpi', desc: 'ì†Œë¹„ì ê´€ì ì—ì„œì˜ ë¬¼ê°€ ë³€ë™ì„ ì¸¡ì •í•˜ëŠ” ì¸í”Œë ˆì´ì…˜ í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤. ì—°ì¤€ì˜ ê¸ˆë¦¬ ê²°ì •ì— í° ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.', link: 'https://www.bls.gov/cpi/' },
            { date: '2025-08-14', name: '13F ë³´ê³ ì„œ ë§ˆê°', type: 'investor', desc: '1ì–µ ë‹¬ëŸ¬ ì´ìƒì„ ìš´ìš©í•˜ëŠ” ê¸°ê´€ íˆ¬ììë“¤ì´ ë¶„ê¸°ë³„(2ë¶„ê¸°) ë³´ìœ  ì¢…ëª©ì„ SECì— ì˜ë¬´ì ìœ¼ë¡œ ë³´ê³ í•˜ëŠ” ë§ˆê°ì¼ì…ë‹ˆë‹¤. ì›Œë Œ ë²„í• ë“± ê±°ë¬¼ê¸‰ íˆ¬ììë“¤ì˜ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì—¿ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.sec.gov/edgar/searchedgar/companysearch' },
            { date: '2025-08-14', name: 'ìƒì‚°ìë¬¼ê°€ì§€ìˆ˜ (PPI)', type: 'cpi', desc: 'ìƒì‚°ì ê´€ì ì—ì„œì˜ ë¬¼ê°€ ë³€ë™ì„ ì¸¡ì •í•˜ë©°, CPIì˜ ì„ í–‰ ì§€í‘œë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.', link: 'https://www.bls.gov/ppi/' },
            { date: '2025-08-15', name: 'ì†Œë§¤íŒë§¤', type: 'retail', desc: 'ì†Œë¹„ì ì§€ì¶œì˜ ì²™ë„ë¡œ, ë¯¸êµ­ ê²½ì œì˜ ì•½ 70%ë¥¼ ì°¨ì§€í•˜ëŠ” ì†Œë¹„ ë™í–¥ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.census.gov/retail/index.html' },
            { date: '2025-08-28', name: '2ë¶„ê¸° GDP (ìˆ˜ì •ì¹˜)', type: 'gdp', desc: 'êµ­ê°€ ê²½ì œì˜ ì „ë°˜ì ì¸ ì„±ê³¼ë¥¼ ì¸¡ì •í•˜ëŠ” ê°€ì¥ í¬ê´„ì ì¸ ì§€í‘œì¸ êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìˆ˜ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2025-09-02', name: 'ISM ì œì¡°ì—… PMI', type: 'ism', desc: 'ì œì¡°ì—… ë¶„ì•¼ì˜ ê²½ê¸° ë™í–¥ì„ ë³´ì—¬ì£¼ëŠ” ì§€í‘œë¡œ, 50 ì´ìƒì´ë©´ ê²½ê¸° í™•ì¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.', link: 'https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/' },
            { date: '2025-09-04', name: 'ISM ë¹„ì œì¡°ì—… PMI', type: 'ism', desc: 'ì„œë¹„ìŠ¤ì—… ë¶„ì•¼ì˜ ê²½ê¸° ë™í–¥ì„ ë³´ì—¬ì£¼ëŠ” ì§€í‘œë¡œ, ë¯¸êµ­ ê²½ì œì˜ í° ë¶€ë¶„ì„ ì°¨ì§€í•©ë‹ˆë‹¤.', link: 'https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/' },
            { date: '2025-09-05', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2025-09-12', name: 'ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜ (CPI)', type: 'cpi', desc: 'ì†Œë¹„ì ê´€ì ì—ì„œì˜ ë¬¼ê°€ ë³€ë™ì„ ì¸¡ì •í•˜ëŠ” ì¸í”Œë ˆì´ì…˜ í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/cpi/' },
            { date: '2025-09-15', name: 'ì†Œë§¤íŒë§¤', type: 'retail', desc: 'ì†Œë¹„ì ì§€ì¶œì˜ ì²™ë„ë¡œ, ì†Œë¹„ ë™í–¥ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.census.gov/retail/index.html' },
            { date: '2025-09-17', name: 'FOMC íšŒì˜ ê²°ê³¼', type: 'fomc', desc: 'ë¯¸êµ­ ì—°ë°©ê³µê°œì‹œì¥ìœ„ì›íšŒ(FOMC)ì˜ ê¸°ì¤€ê¸ˆë¦¬ ê²°ì • ë° ê²½ì œ ì „ë§ ë°œí‘œê°€ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.federalreserve.gov/monetarypolicy/fomccalendars.htm' },
            { date: '2025-09-25', name: '2ë¶„ê¸° GDP (í™•ì •ì¹˜)', type: 'gdp', desc: '2ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìµœì¢… í™•ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2025-10-01', name: 'ISM ì œì¡°ì—… PMI', type: 'ism', desc: 'ì œì¡°ì—… ë¶„ì•¼ì˜ ê²½ê¸° ë™í–¥ì„ ë³´ì—¬ì£¼ëŠ” ì§€í‘œë¡œ, 50 ì´ìƒì´ë©´ ê²½ê¸° í™•ì¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.', link: 'https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/' },
            { date: '2025-10-03', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2025-10-10', name: 'ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜ (CPI)', type: 'cpi', desc: 'ì†Œë¹„ì ê´€ì ì—ì„œì˜ ë¬¼ê°€ ë³€ë™ì„ ì¸¡ì •í•˜ëŠ” ì¸í”Œë ˆì´ì…˜ í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/cpi/' },
            { date: '2025-10-15', name: 'ì†Œë§¤íŒë§¤', type: 'retail', desc: 'ì†Œë¹„ì ì§€ì¶œì˜ ì²™ë„ë¡œ, ì†Œë¹„ ë™í–¥ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.census.gov/retail/index.html' },
            { date: '2025-10-30', name: '3ë¶„ê¸° GDP (ì ì •ì¹˜)', type: 'gdp', desc: '3ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìµœì´ˆ ì ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2025-11-03', name: 'ISM ì œì¡°ì—… PMI', type: 'ism', desc: 'ì œì¡°ì—… ë¶„ì•¼ì˜ ê²½ê¸° ë™í–¥ì„ ë³´ì—¬ì£¼ëŠ” ì§€í‘œë¡œ, 50 ì´ìƒì´ë©´ ê²½ê¸° í™•ì¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.', link: 'https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/' },
            { date: '2025-11-06', name: 'FOMC íšŒì˜ ê²°ê³¼', type: 'fomc', desc: 'ë¯¸êµ­ ì—°ë°©ê³µê°œì‹œì¥ìœ„ì›íšŒ(FOMC)ì˜ ê¸°ì¤€ê¸ˆë¦¬ ê²°ì • ë° ê²½ì œ ì „ë§ ë°œí‘œê°€ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.federalreserve.gov/monetarypolicy/fomccalendars.htm' },
            { date: '2025-11-07', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2025-11-13', name: 'ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜ (CPI)', type: 'cpi', desc: 'ì†Œë¹„ì ê´€ì ì—ì„œì˜ ë¬¼ê°€ ë³€ë™ì„ ì¸¡ì •í•˜ëŠ” ì¸í”Œë ˆì´ì…˜ í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/cpi/' },
            { date: '2025-11-14', name: '13F ë³´ê³ ì„œ ë§ˆê°', type: 'investor', desc: '1ì–µ ë‹¬ëŸ¬ ì´ìƒì„ ìš´ìš©í•˜ëŠ” ê¸°ê´€ íˆ¬ììë“¤ì´ ë¶„ê¸°ë³„(3ë¶„ê¸°) ë³´ìœ  ì¢…ëª©ì„ SECì— ì˜ë¬´ì ìœ¼ë¡œ ë³´ê³ í•˜ëŠ” ë§ˆê°ì¼ì…ë‹ˆë‹¤. ì›Œë Œ ë²„í• ë“± ê±°ë¬¼ê¸‰ íˆ¬ììë“¤ì˜ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì—¿ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.sec.gov/edgar/searchedgar/companysearch' },
            { date: '2025-11-14', name: 'ì†Œë§¤íŒë§¤', type: 'retail', desc: 'ì†Œë¹„ì ì§€ì¶œì˜ ì²™ë„ë¡œ, ì†Œë¹„ ë™í–¥ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.census.gov/retail/index.html' },
            { date: '2025-11-26', name: '3ë¶„ê¸° GDP (ìˆ˜ì •ì¹˜)', type: 'gdp', desc: '3ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìˆ˜ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2025-12-01', name: 'ISM ì œì¡°ì—… PMI', type: 'ism', desc: 'ì œì¡°ì—… ë¶„ì•¼ì˜ ê²½ê¸° ë™í–¥ì„ ë³´ì—¬ì£¼ëŠ” ì§€í‘œë¡œ, 50 ì´ìƒì´ë©´ ê²½ê¸° í™•ì¥ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.', link: 'https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/' },
            { date: '2025-12-05', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2025-12-11', name: 'ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜ (CPI)', type: 'cpi', desc: 'ì†Œë¹„ì ê´€ì ì—ì„œì˜ ë¬¼ê°€ ë³€ë™ì„ ì¸¡ì •í•˜ëŠ” ì¸í”Œë ˆì´ì…˜ í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/cpi/' },
            { date: '2025-12-12', name: 'ì†Œë§¤íŒë§¤', type: 'retail', desc: 'ì†Œë¹„ì ì§€ì¶œì˜ ì²™ë„ë¡œ, ì†Œë¹„ ë™í–¥ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.census.gov/retail/index.html' },
            { date: '2025-12-17', name: 'FOMC íšŒì˜ ê²°ê³¼', type: 'fomc', desc: 'ë¯¸êµ­ ì—°ë°©ê³µê°œì‹œì¥ìœ„ì›íšŒ(FOMC)ì˜ ê¸°ì¤€ê¸ˆë¦¬ ê²°ì • ë° ê²½ì œ ì „ë§ ë°œí‘œê°€ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.federalreserve.gov/monetarypolicy/fomccalendars.htm' },
            { date: '2025-12-23', name: '3ë¶„ê¸° GDP (í™•ì •ì¹˜)', type: 'gdp', desc: '3ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìµœì¢… í™•ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2026-01-02', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2026-01-14', name: 'ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜ (CPI)', type: 'cpi', desc: 'ì†Œë¹„ì ê´€ì ì—ì„œì˜ ë¬¼ê°€ ë³€ë™ì„ ì¸¡ì •í•˜ëŠ” ì¸í”Œë ˆì´ì…˜ í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/cpi/' },
            { date: '2026-01-16', name: 'ì†Œë§¤íŒë§¤', type: 'retail', desc: 'ì†Œë¹„ì ì§€ì¶œì˜ ì²™ë„ë¡œ, ì†Œë¹„ ë™í–¥ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.census.gov/retail/index.html' },
            { date: '2026-01-28', name: 'FOMC íšŒè­° ê²°ê³¼', type: 'fomc', desc: 'ë¯¸êµ­ ì—°ë°©ê³µê°œì‹œì¥ìœ„ì›íšŒ(FOMC)ì˜ ê¸°ì¤€ê¸ˆë¦¬ ê²°ì • ë° ê²½ì œ ì „ë§ ë°œí‘œê°€ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.federalreserve.gov/monetarypolicy/fomccalendars.htm' },
            { date: '2026-01-30', name: '4ë¶„ê¸° GDP (ì ì •ì¹˜)', type: 'gdp', desc: '4ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìµœì´ˆ ì ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2026-02-06', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2026-02-12', name: 'ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜ (CPI)', type: 'cpi', desc: 'ì†Œë¹„ì ê´€ì ì—ì„œì˜ ë¬¼ê°€ ë³€ë™ì„ ì¸¡ì •í•˜ëŠ” ì¸í”Œë ˆì´ì…˜ í•µì‹¬ ì§€í‘œì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/cpi/' },
            { date: '2026-02-13', name: '13F ë³´ê³ ì„œ ë§ˆê°', type: 'investor', desc: '1ì–µ ë‹¬ëŸ¬ ì´ìƒì„ ìš´ìš©í•˜ëŠ” ê¸°ê´€ íˆ¬ììë“¤ì´ ë¶„ê¸°ë³„(4ë¶„ê¸°) ë³´ìœ  ì¢…ëª©ì„ SECì— ì˜ë¬´ì ìœ¼ë¡œ ë³´ê³ í•˜ëŠ” ë§ˆê°ì¼ì…ë‹ˆë‹¤. ì›Œë Œ ë²„í• ë“± ê±°ë¬¼ê¸‰ íˆ¬ììë“¤ì˜ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì—¿ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.sec.gov/edgar/searchedgar/companysearch' },
            { date: '2026-02-26', name: '4ë¶„ê¸° GDP (ìˆ˜ì •ì¹˜)', type: 'gdp', desc: '4ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìˆ˜ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2026-03-06', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2026-03-18', name: 'FOMC íšŒì˜ ê²°ê³¼', type: 'fomc', desc: 'ë¯¸êµ­ ì—°ë°©ê³µê°œì‹œì¥ìœ„ì›íšŒ(FOMC)ì˜ ê¸°ì¤€ê¸ˆë¦¬ ê²°ì • ë° ê²½ì œ ì „ë§ ë°œí‘œê°€ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.federalreserve.gov/monetarypolicy/fomccalendars.htm' },
            { date: '2026-03-26', name: '4ë¶„ê¸° GDP (í™•ì •ì¹˜)', type: 'gdp', desc: '4ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìµœì¢… í™•ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2026-04-03', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2026-04-29', name: 'FOMC íšŒì˜ ê²°ê³¼', type: 'fomc', desc: 'ë¯¸êµ­ ì—°ë°©ê³µê°œì‹œì¥ìœ„ì›íšŒ(FOMC)ì˜ ê¸°ì¤€ê¸ˆë¦¬ ê²°ì • ë° ê²½ì œ ì „ë§ ë°œí‘œê°€ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.federalreserve.gov/monetarypolicy/fomccalendars.htm' },
            { date: '2026-04-30', name: '1ë¶„ê¸° GDP (ì ì •ì¹˜)', type: 'gdp', desc: '1ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìµœì´ˆ ì ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2026-05-01', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2026-05-15', name: '13F ë³´ê³ ì„œ ë§ˆê°', type: 'investor', desc: '1ì–µ ë‹¬ëŸ¬ ì´ìƒì„ ìš´ìš©í•˜ëŠ” ê¸°ê´€ íˆ¬ììë“¤ì´ ë¶„ê¸°ë³„(1ë¶„ê¸°) ë³´ìœ  ì¢…ëª©ì„ SECì— ì˜ë¬´ì ìœ¼ë¡œ ë³´ê³ í•˜ëŠ” ë§ˆê°ì¼ì…ë‹ˆë‹¤. ì›Œë Œ ë²„í• ë“± ê±°ë¬¼ê¸‰ íˆ¬ììë“¤ì˜ í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì—¿ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.sec.gov/edgar/searchedgar/companysearch' },
            { date: '2026-05-28', name: '1ë¶„ê¸° GDP (ìˆ˜ì •ì¹˜)', type: 'gdp', desc: '1ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìˆ˜ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2026-06-05', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2026-06-17', name: 'FOMC íšŒì˜ ê²°ê³¼', type: 'fomc', desc: 'ë¯¸êµ­ ì—°ë°©ê³µê°œì‹œì¥ìœ„ì›íšŒ(FOMC)ì˜ ê¸°ì¤€ê¸ˆë¦¬ ê²°ì • ë° ê²½ì œ ì „ë§ ë°œí‘œê°€ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.federalreserve.gov/monetarypolicy/fomccalendars.htm' },
            { date: '2026-06-25', name: '1ë¶„ê¸° GDP (í™•ì •ì¹˜)', type: 'gdp', desc: '1ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìµœì¢… í™•ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
            { date: '2026-07-02', name: 'ê³ ìš© ë³´ê³ ì„œ', type: 'emp', desc: 'ì‹¤ì—…ë¥ , ë¹„ë†ì—…ë¶€ë¬¸ ê³ ìš©ì ìˆ˜ ë³€ë™ ë“± ë¯¸êµ­ ê³ ìš© ì‹œì¥ì˜ ê±´ê°• ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì§€í‘œ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.', link: 'https://www.bls.gov/news.release/empsit.nr0.htm' },
            { date: '2026-07-29', name: 'FOMC íšŒì˜ ê²°ê³¼', type: 'fomc', desc: 'ë¯¸êµ­ ì—°ë°©ê³µê°œì‹œì¥ìœ„ì›íšŒ(FOMC)ì˜ ê¸°ì¤€ê¸ˆë¦¬ ê²°ì • ë° ê²½ì œ ì „ë§ ë°œí‘œê°€ ìˆìŠµë‹ˆë‹¤.', link: 'https://www.federalreserve.gov/monetarypolicy/fomccalendars.htm' },
            { date: '2026-07-30', name: '2ë¶„ê¸° GDP (ì ì •ì¹˜)', type: 'gdp', desc: '2ë¶„ê¸° êµ­ë‚´ì´ìƒì‚°(GDP)ì˜ ìµœì´ˆ ì ì •ì¹˜ì…ë‹ˆë‹¤.', link: 'https://www.bea.gov/data/gdp/gross-domestic-product' },
        ];
        
        function addWeeklyJoblessClaims() {
            const startDate = new Date('2025-08-01');
            const endDate = new Date('2026-07-31');
            let currentDate = new Date(startDate);
            while (currentDate <= endDate) {
                if (currentDate.getDay() === 4) {
                    events.push({ date: currentDate.toISOString().split('T')[0], name: 'ì‹¤ì—…ìˆ˜ë‹¹ ì²­êµ¬', type: 'jobless', desc: 'ì£¼ ë‹¨ìœ„ì˜ ê³ ìš© ì‹œì¥ ë³€í™”ë¥¼ ê°€ì¥ ë¹ ë¥´ê²Œ ë³´ì—¬ì£¼ëŠ” ì§€í‘œì…ë‹ˆë‹¤.', link: 'https://www.dol.gov/ui/data.pdf' });
                }
                currentDate.setDate(currentDate.getDate() + 1);
            }
        }
        addWeeklyJoblessClaims();

        // --- ìº˜ë¦°ë” ë° ë©”ëª¨ ë¡œì§ ---
        const assessmentCache = {}; // ì‹œì¥ í‰ê°€ ìš”ì•½ ìºì‹œ ê°ì²´
        const calendarTitle = document.getElementById('calendar-title');
        const calendarGrid = document.getElementById('calendar-grid');
        const [prevMonthBtn, nextMonthBtn, todayBtn] = [document.getElementById('prev-month'), document.getElementById('next-month'), document.getElementById('today')];
        
        const modal = document.getElementById('event-modal');
        const [modalTitle, modalDescription, modalLink, modalCloseBtn] = [document.getElementById('modal-title'), document.getElementById('modal-description'), document.getElementById('modal-link'), document.getElementById('modal-close')];
        const [memoInput, saveMemoBtn] = [document.getElementById('memo-input'), document.getElementById('save-memo')];
        const [fetchAssessmentBtn, assessmentLoader, assessmentText] = [document.getElementById('fetch-assessment'), document.getElementById('assessment-loader'), document.getElementById('assessment-text')];

        const [exportBtn, importBtn, importFile, importStatus] = [document.getElementById('export-json'), document.getElementById('import-json'), document.getElementById('import-file'), document.getElementById('import-status')];

        let currentDate = new Date();

        const getMemoKey = (event) => `memo-${event.date}-${event.name}`;

        function renderCalendar() {
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth();
            calendarTitle.textContent = `${year}ë…„ ${month + 1}ì›”`;
            calendarGrid.innerHTML = '';
            const firstDayOfMonth = new Date(year, month, 1).getDay();
            const daysInMonth = new Date(year, month + 1, 0).getDate();
            const today = new Date();

            for (let i = 0; i < firstDayOfMonth; i++) calendarGrid.appendChild(document.createElement('div'));

            for (let day = 1; day <= daysInMonth; day++) {
                const dateCell = document.createElement('div');
                dateCell.className = 'relative p-2 border border-gray-200 rounded-lg min-h-[100px] sm:min-h-[120px]';
                const dateString = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                
                const dayNumber = document.createElement('span');
                dayNumber.textContent = day;
                if (year === today.getFullYear() && month === today.getMonth() && day === today.getDate()) {
                    dayNumber.className = 'bg-blue-600 text-white rounded-full w-6 h-6 flex items-center justify-center font-bold';
                    dateCell.classList.add('bg-blue-50');
                } else {
                    dayNumber.className = 'text-gray-700';
                }
                dateCell.appendChild(dayNumber);

                const dayEvents = events.filter(e => e.date === dateString);
                if (dayEvents.length > 0) {
                    const eventsContainer = document.createElement('div');
                    eventsContainer.className = 'mt-1 space-y-1';
                    dayEvents.forEach(event => {
                        const eventDiv = document.createElement('div');
                        const memoKey = getMemoKey(event);
                        const hasMemo = localStorage.getItem(memoKey);

                        if (hasMemo) {
                            const memoIndicator = document.createElement('span');
                            memoIndicator.className = 'memo-indicator';
                            eventDiv.appendChild(memoIndicator);
                        }
                        
                        const eventName = document.createElement('span');
                        eventName.textContent = event.name;
                        eventDiv.appendChild(eventName);

                        eventDiv.className = `event event-${event.type}`;
                        eventDiv.addEventListener('click', (e) => {
                            e.stopPropagation();
                            openModal(event);
                        });
                        eventsContainer.appendChild(eventDiv);
                    });
                    dateCell.appendChild(eventsContainer);
                }
                calendarGrid.appendChild(dateCell);
            }
        }

        function openModal(event) {
            const memoKey = getMemoKey(event);
            modal.dataset.eventKey = memoKey;
            modal.dataset.eventDate = event.date;
            modal.dataset.eventName = event.name;
            modal.dataset.eventType = event.type;

            modalTitle.textContent = event.name;
            modalDescription.textContent = event.desc;
            modalLink.href = event.link;
            
            const savedMemo = localStorage.getItem(memoKey) || '';
            memoInput.value = savedMemo;

            const eventDate = new Date(event.date + "T23:59:59"); // ì´ë²¤íŠ¸ ë‚ ì§œì˜ ë§ˆì§€ë§‰ ì‹œê°„
            const now = new Date();
            fetchAssessmentBtn.disabled = eventDate > now; // ë¯¸ë˜ ì´ë²¤íŠ¸ ë¹„í™œì„±í™”

            modal.classList.remove('hidden');
        }

        function closeModal() {
            modal.classList.add('hidden');
            modal.dataset.eventKey = '';
            modal.dataset.eventDate = '';
            modal.dataset.eventName = '';
            modal.dataset.eventType = '';
        }

        function saveMemo() {
            const memoKey = modal.dataset.eventKey;
            const memoText = memoInput.value.trim();
            if (memoKey) {
                if (memoText) {
                    localStorage.setItem(memoKey, memoText);
                } else {
                    localStorage.removeItem(memoKey);
                }
                
                const originalText = saveMemoBtn.textContent;
                saveMemoBtn.textContent = 'ì €ì¥ ì™„ë£Œ!';
                saveMemoBtn.classList.replace('bg-indigo-600', 'bg-green-600');
                saveMemoBtn.classList.replace('hover:bg-indigo-700', 'hover:bg-green-700');

                setTimeout(() => {
                    saveMemoBtn.textContent = originalText;
                    saveMemoBtn.classList.replace('bg-green-600', 'bg-indigo-600');
                    saveMemoBtn.classList.replace('hover:bg-green-700', 'hover:bg-indigo-700');
                    closeModal();
                    renderCalendar();
                }, 1000);
            }
        }

        async function fetchMarketAssessment() {
            const eventKey = modal.dataset.eventKey;
            
            if (assessmentCache[eventKey] && !memoInput.value.includes(assessmentCache[eventKey])) {
                memoInput.value += assessmentCache[eventKey];
                return;
            }
            if (assessmentCache[eventKey]) return;

            const eventType = modal.dataset.eventType;
            const eventName = modal.dataset.eventName;
            
            assessmentLoader.classList.remove('hidden');
            assessmentText.textContent = 'ìš”ì•½ ì¤‘...';
            fetchAssessmentBtn.disabled = true;

            await new Promise(resolve => setTimeout(resolve, 1500)); 

            let summaryPoints = [];
            let sentimentEmoji = 'ğŸ˜';
            const outcomes = ['ì˜ˆìƒì¹˜ë¥¼ ìƒíšŒí•˜ì—¬', 'ì˜ˆìƒì¹˜ë¥¼ í•˜íšŒí•˜ì—¬', 'ì˜ˆìƒì¹˜ì— ë¶€í•©í•˜ì—¬'];
            const randomOutcome = outcomes[Math.floor(Math.random() * outcomes.length)];

            const sources = [
                { name: 'Bloomberg', link: 'https://www.bloomberg.com/markets' },
                { name: 'Reuters', link: 'https://www.reuters.com/markets/' },
                { name: 'Wall Street Journal', link: 'https://www.wsj.com/news/markets' }
            ];
            const randomSource = sources[Math.floor(Math.random() * sources.length)];

            switch(eventType) {
                case 'cpi':
                    summaryPoints = [
                        `${randomOutcome} ì¸í”Œë ˆì´ì…˜ ì••ë ¥ì— ëŒ€í•œ ì‹œì¥ì˜ ìš°ë ¤ì™€ ì•ˆë„ êµì°¨`,
                        `êµ­ì±„ ê¸ˆë¦¬ ë³€ë™ì„± í™•ëŒ€`,
                        `ê¸°ìˆ ì£¼ ì¤‘ì‹¬ ì°¨ìµ ì‹¤í˜„ ë§¤ë¬¼ ì¶œíšŒ`
                    ];
                    if (randomOutcome === 'ì˜ˆìƒì¹˜ë¥¼ ìƒíšŒí•˜ì—¬') sentimentEmoji = 'ğŸ‘';
                    else if (randomOutcome === 'ì˜ˆìƒì¹˜ë¥¼ í•˜íšŒí•˜ì—¬') sentimentEmoji = 'ğŸ‘';
                    break;
                case 'gdp':
                case 'emp':
                case 'retail':
                case 'ism':
                    summaryPoints = [
                        `${randomOutcome} ê²½ê¸° í€ë”ë©˜í„¸ì— ëŒ€í•œ íˆ¬ìì ì‹ ë¢°ë„ì— ì˜í–¥`,
                        `ê²½ê¸° ë¯¼ê°ì£¼ ìƒìŠ¹í–ˆìœ¼ë‚˜, ì¼ë¶€ ì„¹í„°ëŠ” ê´€ë§ì„¸`,
                        `í–¥í›„ ê²½ì œ ë°ì´í„°ì— ëŒ€í•œ ì‹œì¥ì˜ ì£¼ëª©ë„ ì¦ê°€`
                    ];
                    if (randomOutcome === 'ì˜ˆìƒì¹˜ë¥¼ ìƒíšŒí•˜ì—¬') sentimentEmoji = 'ğŸ‘';
                    else if (randomOutcome === 'ì˜ˆìƒì¹˜ë¥¼ í•˜íšŒí•˜ì—¬') sentimentEmoji = 'ğŸ‘';
                    break;
                case 'fomc':
                    summaryPoints = [
                        `ì—°ì¤€, ì˜ˆìƒëŒ€ë¡œ ê¸ˆë¦¬ ë™ê²° ë°œí‘œ`,
                        `ê¸°ìíšŒê²¬ì—ì„œ í–¥í›„ ë°ì´í„° ì˜ì¡´ì  ìŠ¤íƒ ìŠ¤ ì¬í™•ì¸`,
                        `ì‹œì¥ì€ ì•ˆë„ ë ë¦¬ í›„ ìˆ¨ ê³ ë¥´ê¸° ì¥ì„¸ ì§„ì…`
                    ];
                    sentimentEmoji = 'ğŸ˜';
                    break;
                case 'investor':
                    summaryPoints = [
                        `ë²„í¬ì…” í•´ì„œì›¨ì´, ê¸°ìˆ ì£¼ ë¹„ì¤‘ í™•ëŒ€ ë™í–¥`,
                        `ë¸Œë¦¬ì§€ì›Œí„°, ì‹ í¥êµ­ ìì‚° ë¹„ì¤‘ ì¼ë¶€ ì¡°ì ˆ`,
                        `ì£¼ìš” íˆ¬ìì‚¬ë³„ ì „ëµ ì°¨ë³„í™” ê´€ì¸¡`
                    ];
                    randomSource.name = 'SEC EDGAR Filings';
                    randomSource.link = 'https://www.sec.gov/edgar/searchedgar/companysearch';
                    sentimentEmoji = 'ğŸ˜';
                    break;
                default:
                    summaryPoints = [
                        `${eventName} ë°œí‘œ ì´í›„ ê´€ë ¨ ì„¹í„° ê´€ì‹¬ ì§‘ì¤‘`,
                        `ì‹œì¥ì˜ ì „ë°˜ì ì¸ ì˜í–¥ì€ ì œí•œì `
                    ];
                    sentimentEmoji = 'ğŸ˜';
            }

            const summary = summaryPoints.join('\nâ€¢ ');
            const currentDate = new Date().toLocaleString('ko-KR');
            const formattedSummary = `\n\n--- [ì‹œì¥ í‰ê°€ ìš”ì•½: ${currentDate}] ---\n${sentimentEmoji}\nâ€¢ ${summary}\n(ì¶œì²˜: ${randomSource.name} - ${randomSource.link})`;
            
            assessmentCache[eventKey] = formattedSummary;
            memoInput.value += formattedSummary;
            
            assessmentLoader.classList.add('hidden');
            assessmentText.textContent = 'ì‹œì¥ í‰ê°€ ìš”ì•½';
            fetchAssessmentBtn.disabled = false;
        }

        function exportMemos() {
            const memoData = {};
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                if (key.startsWith('memo-')) {
                    memoData[key] = localStorage.getItem(key);
                }
            }
            if (Object.keys(memoData).length === 0) {
                alert('ë‚´ë³´ë‚¼ ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            const jsonString = JSON.stringify(memoData, null, 2);
            const blob = new Blob([jsonString], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `economic_calendar_memos_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function importMemos(event) {
            const file = event.target.files[0];
            if (!file) return;
            const reader = new FileReader();
            reader.onload = (e) => {
                try {
                    const importedData = JSON.parse(e.target.result);
                    let importedCount = 0;
                    for (const key in importedData) {
                        if (key.startsWith('memo-')) {
                            localStorage.setItem(key, importedData[key]);
                            importedCount++;
                        }
                    }
                    importStatus.textContent = `${importedCount}ê°œì˜ ë©”ëª¨ë¥¼ ì„±ê³µì ìœ¼ë¡œ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤.`;
                    renderCalendar();
                } catch (error) {
                    importStatus.textContent = 'ì˜¤ë¥˜: ìœ íš¨í•œ JSON íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.';
                } finally {
                    importFile.value = '';
                }
            };
            reader.readAsText(file);
        }

        // --- ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---
        prevMonthBtn.addEventListener('click', () => { currentDate.setMonth(currentDate.getMonth() - 1); renderCalendar(); });
        nextMonthBtn.addEventListener('click', () => { currentDate.setMonth(currentDate.getMonth() + 1); renderCalendar(); });
        todayBtn.addEventListener('click', () => { currentDate = new Date(); renderCalendar(); });
        modalCloseBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
        saveMemoBtn.addEventListener('click', saveMemo);
        fetchAssessmentBtn.addEventListener('click', fetchMarketAssessment);
        exportBtn.addEventListener('click', exportMemos);
        importBtn.addEventListener('click', () => importFile.click());
        importFile.addEventListener('change', importMemos);

        // ì´ˆê¸° ìº˜ë¦°ë” ë Œë”ë§
        renderCalendar();
    </script>
</body>
</html>
